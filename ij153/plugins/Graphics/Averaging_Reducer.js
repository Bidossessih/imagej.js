/*Compiled using CheerpJ (R) 2.1 by Leaning Technologies Ltd*/
cheerpjCL={cl:null};
var N17Averaging_ReducerG;
function N17Averaging_Reducer(){N4java4lang6Object.call(this);this.product0=-0;this.pixel1=null;this.sum2=null;this.samples3=0;}
N17Averaging_Reducer.cl=cheerpjCL;
function N17Averaging_ReducerX(a){a.f=N17Averaging_ReducerX;if(cheerpjSafeInitGuard('N17Averaging_Reducer')) return;var q=a.q=N17Averaging_Reducer.prototype=Object.create(N4java4lang6Object.prototype);q.constructor=N17Averaging_Reducer;q.ifs=["ij/plugin/PlugIn"];q.dhr1ir_c79c=q.v11=_c4FKfRvrebqqKo_VsmqjqeDhr14vd;q.v12=_c4FKfRvrebqqKr_VsmqjqePlDeH0O4zd;q.v13=_c4FKfRvrebqqKr_VsmqjqePlDeH0O4Dd;q.v14=_c4FKfRvrebqqKn_VsmqjqevtBqmzufdt4Hd;q.v15=_c4FKfRvrebqqKw_VsmqjqevtlD4y1HaS4y4Ld;q.v16=_c4FKfRvrebqqKx_VsmqjqevxlDeH0O8T4am5Pd;q.v17=_c4FKfRvrebqqKs_VsmqjqevNBqm9T4amzKgdt4Td;N17Averaging_Reducer.xshrink0=0;N17Averaging_Reducer.yshrink1=0;a.pc=-640;_c4FKfRvrebqqKm_Vsmqjqefh7Xd(a);N17Averaging_ReducerG=1;cheerpjSafeInitFinish('N17Averaging_Reducer');}
var N2ij2IJG;
var N2ij9ImagePlusG;
var N2ij10ImageStackG;
var N2ij3gui13GenericDialogG;
var N2ij7process14ColorProcessorG;
var N2ij7process14FloatProcessorG;
var N4java4lang6ObjectG;
var N4java4lang13StringBuilderG;
function _c4FKfRvrebqqKm_VsmqjqeXz7rd(e,p){var c=null;var a={p:p,pc:0,f:_c4FKfRvrebqqKm_VsmqjqeXz7rd,e:e};a.pc=-106;_n4VYObjectC2E0(e,a);c=new Int32Array(4);c[0]=73;e.pixel1=c;c=new Int32Array(4);c[0]=73;e.sum2=c;}function _c4FKfRvrebqqKo_VsmqjqeDhr14vd(j,h,p){var c=null,d=0;var a={p:p,pc:0,f:_c4FKfRvrebqqKo_VsmqjqeDhr14vd,j:j,c:null};a.pc=-123;;if((N2ij2IJG|0)==0){cjG(a);};a.pc=-163;a.c=c=_c4_02ij2IJ8getImageE132(a);a.pc=-207;d=j.v15(j,a)|0;if((d|0)!==0){a.pc=-246;a.c=c=j.v12(j,c,a);a.pc=-275;c.v35(c,a);a.pc=-296;d=c.v76(c,a)|0;a.pc=-321;c.v133(c,((d|0)/2|0),a);a.pc=-355;c=c.v59(c,a);a.pc=-378;c.v41(c,a);}}function _c4FKfRvrebqqKr_VsmqjqePlDeH0O4zd(q,o,p){var j=0,g=null,d=null,h=0,k=0,e=null,c=null,l=-0.;var a=new createStacklet_c4FKfRvrebqqKr_VsmqjqePlDeH0O4zd(p,q,o);a.pc=-165;a.g=g=o.v113(o,a);a.pc=-193;;if((N2ij10ImageStackG|0)==0){cjG(a);};a.d=d=new N2ij10ImageStack();a.pc=-271;a.j=j=o.v73(o,a)|0;a.h=h=N17Averaging_Reducer.xshrink0|0;a.pc=-338;k=o.v74(o,a)|0;a.pc=-363;_c4_02ij10ImageStackC2E1(d,((j|0)/(h|0)|0),((k|0)/(N17Averaging_Reducer.yshrink1|0|0)|0),a);a.pc=-465;a.h=h=g.v28(g,a)|0;if((h|0)>=1){a.j=j=1;while(1){a.pc=-524;;if((N4java4lang13StringBuilderG|0)==0){cjG(a);};a.e=e=new N4java4lang13StringBuilder();a.pc=-622;_m4FJge_YBuilderC2E0(e,a);a.pc=-658;c=e.v79(e,j,a);a.pc=-683;c=c.v71(c,cheerpjInternString("/"),a);a.pc=-731;c=c.v79(c,h,a);a.pc=-756;a.e=e=c.v4(c,a);a.pc=-782;;if((N2ij2IJG|0)==0){cjG(a);};a.pc=-822;_c4F12ij2IJ10showStatusE27(e,a);a.pc=-864;_c4_12ij2IJ12showProgressE46(j,h,a);a.pc=-910;c=g.v33(g,j,a);a.pc=-935;c=q.v13(q,c,a);a.pc=-960;d.v15(d,null,c,a);k=j+1|0;if((k|0)<=(h|0)){a.j=j=k;continue;}break;}}a.pc=-1039;;if((N2ij9ImagePlusG|0)==0){cjG(a);};a.g=g=new N2ij9ImagePlus();a.pc=-1114;;if((N4java4lang13StringBuilderG|0)==0){cjG(a);};a.e=e=new N4java4lang13StringBuilder();a.pc=-1213;_m4FJge_YBuilderC2E0(e,a);a.pc=-1250;a.e=e=e.v71(e,cheerpjInternString("Reduced "),a);a.pc=-1310;c=o.v71(o,a);a.pc=-1334;c=e.v71(e,c,a);a.pc=-1360;c=c.v4(c,a);a.pc=-1383;_c4F02ij9ImagePlusC2E4(g,c,d,a);a.pc=-1426;c=o.v168(o,a);a.pc=-1451;g.v169(g,c,a);a.pc=-1476;a.d=d=g.v168(g,a);a.pc=-1505;k=d.v11(d,a)|0;if((k|0)!==0){l=+d.pixelWidth0;d.pixelWidth0=(l*(+(N17Averaging_Reducer.xshrink0|0|0)));l=+d.pixelHeight1;d.pixelHeight1=(l*(+(N17Averaging_Reducer.yshrink1|0|0)));}return g;}function _c4FKfRvrebqqKr_VsmqjqePlDeH0O4Dd(o,n,p){var c=0,d=0,g=0,e=0,h=null,k=0,j=null;var a=new createStacklet_c4FKfRvrebqqKr_VsmqjqePlDeH0O4Dd(p,o,n);if(((N2ij7process14FloatProcessorG|0)&&n instanceof N2ij7process14FloatProcessor)>>0|0){return o.v16(o,n,p);}c=((N2ij7process14ColorProcessorG|0)&&n instanceof N2ij7process14ColorProcessor)>>0|0?3|0:1|0;o.samples3=c;a.pc=-369;c=n.v13(n,a)|0;a.g=g=(c|0)/(N17Averaging_Reducer.xshrink0|0|0)|0;a.pc=-444;c=n.v14(n,a)|0;a.e=e=(c|0)/(N17Averaging_Reducer.yshrink1|0|0)|0;a.pc=-519;a.h=h=n.v181(n,g,e,a);if((e|0)>0){a.k=k=(g|0)>0?1:0;a.c=c=0;while(1){if(k){a.d=d=0;while(1){a.pc=-621;j=o.v14(o,n,d,c,a);a.pc=-650;h.v145(h,d,c,j,a);d=d+1|0;if((d|0)<(g|0)){a.d=d=d;continue;}break;}}c=c+1|0;if((c|0)<(e|0)){a.c=c=c;continue;}break;}}return h;}function _c4FKfRvrebqqKn_VsmqjqevtBqmzufdt4Hd(r,q,o,n,p){var e=0,h=0,c=0,d=null,g=0;var a=new createStacklet_c4FKfRvrebqqKn_VsmqjqevtBqmzufdt4Hd(p,r,q,o,n);if((r.samples3|0|0)>0){e=0;while(1){e=e+1|0;r.sum2[e]=0;if((e|0)<(r.samples3|0|0))continue;break;}}if((N17Averaging_Reducer.yshrink1|0|0)>0){a.e=e=0;while(1){if((N17Averaging_Reducer.xshrink0|0|0)>0){a.h=h=0;while(1){c=N17Averaging_Reducer.xshrink0|0;g=N17Averaging_Reducer.yshrink1|0;a.pc=-441;d=q.v144(q,((Math.imul(c,o)|0)+h|0),((Math.imul(g,n)|0)+e|0),r.pixel1,a);r.pixel1=d;if((r.samples3|0|0)>0){c=0;while(1){d=r.sum2;c=c+1|0;g=d[c]|0;d[c]=((r.pixel1[c]|0)+g|0);if((c|0)<(r.samples3|0|0))continue;break;}}c=h+1|0;if((c|0)<(N17Averaging_Reducer.xshrink0|0|0)){a.h=h=c;continue;}break;}}c=e+1|0;if((c|0)<(N17Averaging_Reducer.yshrink1|0|0)){a.e=e=c;continue;}break;}}c=r.samples3|0;d=r.sum2;if((c|0)<=0){return d;}c=0;while(1){c=c+1|0;g=r.sum2[c]|0;d[c]=~~((+(g|0))/ +r.product0+.5);g=r.samples3|0;d=r.sum2;if((c|0)<(g|0))continue;break;}return d;}function _c4FKfRvrebqqKw_VsmqjqevtlD4y1HaS4y4Ld(j,p){var c=null,g=null,e=0,d=-0.;var a={p:p,pc:0,f:_c4FKfRvrebqqKw_VsmqjqevtlD4y1HaS4y4Ld,j:j,c:null};a.pc=-150;;if((N2ij3gui13GenericDialogG|0)==0){cjG(a);};a.c=c=new N2ij3gui13GenericDialog();a.pc=-242;_c4V22ij3gui13GenericDialogC2E0(c,cheerpjInternString("Image Shrin\x6b"),a);g=cheerpjInternString("X Shrin\x6b Factor:");a.pc=-373;c.v534(c,g,(+(N17Averaging_Reducer.xshrink0|0|0)),0.,0,a);g=cheerpjInternString("Y Shrin\x6b Factor:");a.pc=-486;c.v534(c,g,(+(N17Averaging_Reducer.yshrink1|0|0)),0.,0,a);a.pc=-554;c.v589(c,a);a.pc=-576;e=c.v571(c,a)|0;if((e|0)===0){a.pc=-616;d=+c.v573(c,a);N17Averaging_Reducer.xshrink0=~~d;a.pc=-675;d=+c.v573(c,a);N17Averaging_Reducer.yshrink1=~~d;e=N17Averaging_Reducer.xshrink0|0;j.product0=(+(Math.imul(N17Averaging_Reducer.yshrink1|0,e)|0));return 1|0;}return 0|0;}function _c4FKfRvrebqqKx_VsmqjqevxlDeH0O8T4am5Pd(o,n,p){var c=0,d=0,g=0,e=0,h=null,k=0,j=-0.;var a=new createStacklet_c4FKfRvrebqqKx_VsmqjqevxlDeH0O8T4am5Pd(p,o,n);a.pc=-164;c=n.v13(n,a)|0;a.g=g=(c|0)/(N17Averaging_Reducer.xshrink0|0|0)|0;a.pc=-239;c=n.v14(n,a)|0;a.e=e=(c|0)/(N17Averaging_Reducer.yshrink1|0|0)|0;a.pc=-314;a.h=h=n.v181(n,g,e,a);if((e|0)>0){a.k=k=(g|0)>0?1:0;a.c=c=0;while(1){if(k){a.d=d=0;while(1){a.pc=-416;j=+o.v17(o,n,d,c,a);a.pc=-446;h.v156(h,d,c,j,0.,a);d=d+1|0;if((d|0)<(g|0)){a.d=d=d;continue;}break;}}c=c+1|0;if((c|0)<(e|0)){a.c=c=c;continue;}break;}}return h;}function _c4FKfRvrebqqKs_VsmqjqevNBqm9T4amzKgdt4Td(r,q,o,n,p){var h=0,c=-0.,g=0,d=0,e=-0.;var a=new createStacklet_c4FKfRvrebqqKs_VsmqjqevNBqm9T4amzKgdt4Td(p,r,q,o,n);if((N17Averaging_Reducer.yshrink1|0|0)<=0){return Math.fround(0/ +r.product0);}c=0;a.h=h=0;while(1){if((N17Averaging_Reducer.xshrink0|0|0)>0){a.c=c=c;a.g=g=0;while(1){d=N17Averaging_Reducer.xshrink0|0;a.pc=-368;e=+q.v155(q,((Math.imul(d,o)|0)+g|0),((Math.imul(N17Averaging_Reducer.yshrink1|0,n)|0)+h|0),a);e=c+e;d=g+1|0;if((d|0)<(N17Averaging_Reducer.xshrink0|0|0)){a.g=g=d;a.c=c=e;continue;}break;}c=e;}d=h+1|0;if((d|0)<(N17Averaging_Reducer.yshrink1|0|0)){a.h=h=d;continue;}break;}return Math.fround(c/ +r.product0);}function _c4FKfRvrebqqKm_Vsmqjqefh7Xd(p){N17Averaging_Reducer.xshrink0=2;N17Averaging_Reducer.yshrink1=2;}function createStacklet_c4FKfRvrebqqKs_VsmqjqevNBqm9T4amzKgdt4Td(p,r,q,o,n){this.p=p;this.pc=0;this.f=_c4FKfRvrebqqKs_VsmqjqevNBqm9T4amzKgdt4Td;this.h=0;this.c=-0.;this.g=0;this.r=r;this.q=q;this.o=o|0;this.n=n|0;}function createStacklet_c4FKfRvrebqqKx_VsmqjqevxlDeH0O8T4am5Pd(p,o,n){this.p=p;this.pc=0;this.f=_c4FKfRvrebqqKx_VsmqjqevxlDeH0O8T4am5Pd;this.c=0;this.d=0;this.o=o;this.n=n;this.g=0;this.e=0;this.h=null;this.k=0;}function createStacklet_c4FKfRvrebqqKr_VsmqjqePlDeH0O4zd(p,q,o){this.p=p;this.pc=0;this.f=_c4FKfRvrebqqKr_VsmqjqePlDeH0O4zd;this.j=0;this.q=q;this.o=o;this.g=null;this.d=null;this.h=0;this.e=null;}function createStacklet_c4FKfRvrebqqKn_VsmqjqevtBqmzufdt4Hd(p,r,q,o,n){this.p=p;this.pc=0;this.f=_c4FKfRvrebqqKn_VsmqjqevtBqmzufdt4Hd;this.e=0;this.h=0;this.r=r;this.q=q;this.o=o|0;this.n=n|0;}function createStacklet_c4FKfRvrebqqKr_VsmqjqePlDeH0O4Dd(p,o,n){this.p=p;this.pc=0;this.f=_c4FKfRvrebqqKr_VsmqjqePlDeH0O4Dd;this.c=0;this.d=0;this.o=o;this.n=n;this.g=0;this.e=0;this.h=null;this.k=0;}