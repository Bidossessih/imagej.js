!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("imagej",[],t):"object"==typeof exports?exports.imagej=t():e.imagej=t()}(window,(function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){async function n(e){const t="/str/"+e.name,n=await function(e){return new Promise((t,n)=>{const a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){const e=a.result,n=new Uint8Array(e);t(n)},a.onerror=function(e){n(e)}})}(e);cheerpjAddStringFile(t,n),await imagej.openFile(t)}"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)}))})),function(){function e(){document.body.style.height=window.innerHeight+"px"}window.addEventListener("resize",e),e()}(),async function(){cheerpjInit({enableInputMethods:!0,clipboardMode:"system"});const e=document.getElementById("app-container");cheerpjCreateDisplay(-1,-1,e),cheerpjRunStaticMethod(threads[0],"java/lang/System",cjSystemSetProperty,"user.dir","/files"),cheerpjRunStaticMethod(threads[0],"java/lang/System",cjSystemSetProperty,"plugins.dir","/app/imagej-1"),cheerpjRunMain("ij.ImageJ","/app/imagej-1/ij.jar:/app/imagej-1/plugins/Thunder_STORM.jar"),await new Promise(e=>{!async function t(){const n=await cjCall("ij.IJ","getInstance");n?e(n):setTimeout(t,500)}()}),window.imagej={doCommand:await cjResolveCall("ij.IJ","doCommand",["java.lang.String"]),runCommand:await cjResolveCall("ij.IJ","run",["java.lang.String"]),showStatus:await cjResolveCall("ij.IJ","showStatus",["java.lang.String"]),showMessage:await cjResolveCall("ij.IJ","showMessage",["java.lang.String","java.lang.String"]),runPlugIn:await cjResolveCall("ij.IJ","runPlugIn",["java.lang.String","java.lang.String"]),openFile:await cjResolveCall("ij.IJ","open",["java.lang.String"]),installPlugin:await cjResolveCall("ij.Menus","installPlugin",null),getPlugins:await cjResolveCall("ij.Menus","getPlugins",[]),getPlugInsPath:await cjResolveCall("ij.Menus","getPlugInsPath",[])},imagej.showStatus("imagej.js loaded!")}().then(()=>{!function(){const e=document.getElementById("app-container"),t=document.getElementById("drag-overlay");e.addEventListener("dragenter",e=>{e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),t.style.display="block")},!1),e.addEventListener("dragover",e=>{e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),t.style.display="block")},!1),e.addEventListener("dragleave",e=>{e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),t.style.display="none")},!1),e.addEventListener("drop",e=>{if(e.dataTransfer.types.includes("Files")){e.preventDefault(),e.stopPropagation();const a=e.dataTransfer.files;for(let e=0,t=a.length;e<t;e++)n(a[e]);t.style.display="none"}},!1)}()})}])}));
//# sourceMappingURL=index.js.map