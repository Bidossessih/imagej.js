!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("imagej",[],n):"object"==typeof exports?exports.imagej=n():e.imagej=n()}(window,(function(){return function(e){var n={};function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(a,o,function(n){return e[n]}.bind(null,o));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n){async function t(e){const n="/str/"+e.name,t=await function(e){return new Promise((n,t)=>{const a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){const e=a.result,t=new Uint8Array(e);n(t)},a.onerror=function(e){t(e)}})}(e);cheerpjAddStringFile(n,t),await imagej.openFile(n)}"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)}))})),function(){function e(){document.body.style.height=window.innerHeight+"px"}window.addEventListener("resize",e),e()}(),async function(){cheerpjInit({enableInputMethods:!0,clipboardMode:"system"});const e=document.getElementById("app-container");cheerpjCreateDisplay(-1,-1,e),cheerpjRunMain("ij.ImageJ","/app/imagej-1/ij.jar"),await new Promise(e=>{!async function n(){const t=await cjCall("ij.IJ","getInstance");t?e(t):setTimeout(n,500)}()}),window.imagej={doCommand:await cjResolveCall("ij.IJ","doCommand",["java.lang.String"]),runCommand:await cjResolveCall("ij.IJ","run",["java.lang.String"]),showStatus:await cjResolveCall("ij.IJ","showStatus",["java.lang.String"]),showMessage:await cjResolveCall("ij.IJ","showMessage",["java.lang.String","java.lang.String"]),runPlugIn:await cjResolveCall("ij.IJ","runPlugIn",["java.lang.String","java.lang.String"]),openFile:await cjResolveCall("ij.IJ","open",["java.lang.String"])},imagej.showStatus("imagej.js loaded!")}().then(()=>{!function(){const e=document.getElementById("app-container"),n=document.getElementById("drag-overlay");e.addEventListener("dragenter",e=>{e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),n.style.display="block")},!1),e.addEventListener("dragover",e=>{e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),n.style.display="block")},!1),e.addEventListener("dragleave",e=>{e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),n.style.display="none")},!1),e.addEventListener("drop",e=>{if(e.dataTransfer.types.includes("Files")){e.preventDefault(),e.stopPropagation();const a=e.dataTransfer.files;for(let e=0,n=a.length;e<n;e++)t(a[e]);n.style.display="none"}},!1)}()})}])}));
//# sourceMappingURL=index.js.map